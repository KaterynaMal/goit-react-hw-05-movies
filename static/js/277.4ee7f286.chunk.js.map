{"version":3,"file":"static/js/277.4ee7f286.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/FilmList/FilmList.module.css?b497","components/FilmList/FilmListRender.jsx","components/Loader.jsx","webpack://react-homework-template/./src/components/SearchMowies/SearchMowies.module.css?f330","components/SearchMowies/SearchMowies.jsx","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"FilmList_list__C2ysn\",\"movie_link\":\"FilmList_movie_link__JPa9D\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport css from './FilmList.module.css';\n\nconst FilmListRender = ({ movies, location }) => {\n  return (\n    <div>\n      <ul className={css.list}>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.movie_link}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\nexport { FilmListRender };\n","import React from 'react';\nimport { Circles } from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div>\n      <Circles\n        height=\"80\"\n        width=\"80\"\n        color=\"#4fa94d\"\n        ariaLabel=\"circles-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n      />\n    </div>\n  );\n};\n\nexport { Loader };\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchMowies_form__kZJ5z\",\"input\":\"SearchMowies_input__ZKdQ7\",\"button\":\"SearchMowies_button__Y7bDC\"};","import React from 'react';\nimport css from './SearchMowies.module.css';\n\nconst SearchMowies = ({ HandleSubmit, inputValue, HandleInput }) => {\n  return (\n    <div>\n      <form action=\"\" onSubmit={HandleSubmit} className={css.form}>\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={HandleInput}\n          name=\"search\"\n          className={css.input}\n        />\n        <button type=\"submit\" className={css.button}>\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\nexport { SearchMowies };\n","import React, { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { findMovies } from 'services/api';\nimport { Loader } from 'components/Loader';\nimport { FilmListRender } from 'components/FilmList/FilmListRender';\nimport { SearchMowies } from 'components/SearchMowies/SearchMowies';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const paramsFofSearch =\n    searchParams.size !== 0 ? searchParams.get('searchValue') : '';\n  const [inputValue, setInputValue] = useState(paramsFofSearch || '');\n  const [indicatorLoader, setIndicatorLoader] = useState(true);\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovieByQuery = async () => {\n      try {\n        if (!paramsFofSearch) {\n          setIndicatorLoader(false);\n          setMovies(null);\n          return;\n        }\n\n        const endpoint = `/search/movie?query=${paramsFofSearch}&include_adult=false`;\n        const result = await findMovies(endpoint);\n        setMovies(result.results);\n      } catch (error) {\n        console.error('Error:', error.message);\n        setMovies([]);\n      }\n      setIndicatorLoader(false);\n    };\n\n    fetchMovieByQuery();\n  }, [paramsFofSearch]);\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setIndicatorLoader(true);\n    const dataForSearch = e.currentTarget.elements.search.value;\n    setSearchParams({ searchValue: dataForSearch });\n  };\n\n  const HandleInput = e => {\n    const inputValue = e.currentTarget.value;\n    setInputValue(inputValue);\n  };\n\n  return (\n    <div>\n      <SearchMowies\n        inputValue={inputValue}\n        HandleSubmit={HandleSubmit}\n        HandleInput={HandleInput}\n      />\n\n      {indicatorLoader && <Loader />}\n\n      {movies !== null && movies.length > 0 && (\n        <FilmListRender movies={movies} location={location} />\n      )}\n    </div>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = 'f0dfa7497e7951551870a1200c4b66ff';\n\nconst requestMovies = async endpoint => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3${endpoint}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\nconst findMovies = async endpoint => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3${endpoint}&api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\nexport { requestMovies };\nexport { findMovies };\n"],"names":["FilmListRender","_ref","movies","location","_jsx","children","className","css","map","movie","Link","to","concat","id","state","from","title","Loader","Circles","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","SearchMowies","HandleSubmit","inputValue","HandleInput","_jsxs","action","onSubmit","type","value","onChange","name","_useState","useState","_useState2","_slicedToArray","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","paramsFofSearch","size","get","_useState3","_useState4","setInputValue","_useState5","_useState6","indicatorLoader","setIndicatorLoader","useLocation","useEffect","fetchMovieByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","endpoint","result","_context","prev","next","abrupt","findMovies","sent","results","t0","console","error","message","stop","apply","arguments","e","preventDefault","dataForSearch","currentTarget","elements","search","searchValue","length","API_KEY","requestMovies","_yield$axios$get","data","axios","_x","_ref2","_callee2","_yield$axios$get2","_context2","_x2"],"sourceRoot":""}