{"version":3,"file":"static/js/906.e64ff991.chunk.js","mappings":"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","sources":["components/Loader.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["import React from 'react';\nimport { Circles } from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div>\n      <Circles\n        height=\"80\"\n        width=\"80\"\n        color=\"#4fa94d\"\n        ariaLabel=\"circles-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n      />\n    </div>\n  );\n};\n\nexport { Loader };\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__2deBf\",\"input\":\"MoviesPage_input__16dJ5\",\"button\":\"MoviesPage_button__AUtxX\"};","import React, { useEffect, useState } from 'react';\nimport css from './MoviesPage.module.css';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { findMovies } from 'services/api';\nimport { Loader } from 'components/Loader';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const paramsFofSearch =\n    searchParams.size !== 0 ? searchParams.get('searchValue') : '';\n  const [inputValue, setInputValue] = useState(paramsFofSearch || '');\n  const [indicatorLoader, setIndicatorLoader] = useState(true);\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovieByQuery = async () => {\n      try {\n        if (!paramsFofSearch) {\n          setIndicatorLoader(false);\n          setMovies(null);\n          return;\n        }\n\n        const endpoint = `/search/movie?query=${paramsFofSearch}&include_adult=false`;\n        const result = await findMovies(endpoint);\n        setMovies(result);\n      } catch (error) {\n        console.error('Error:', error.message);\n        setMovies([]);\n      }\n      setIndicatorLoader(false);\n    };\n\n    fetchMovieByQuery();\n  }, [paramsFofSearch]);\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setIndicatorLoader(true);\n    const dataForSearch = e.currentTarget.elements.search.value;\n    setSearchParams({ searchValue: dataForSearch });\n  };\n\n  const HandleInput = e => {\n    const inputValue = e.currentTarget.value;\n    setInputValue(inputValue);\n  };\n\n  return (\n    <div>\n      <div>\n        <form action=\"\" onSubmit={HandleSubmit} className={css.form}>\n          <input\n            type=\"text\"\n            value={inputValue}\n            onChange={HandleInput}\n            name=\"search\"\n            className={css.input}\n          />\n          <button type=\"submit\" className={css.button}>\n            Search\n          </button>\n        </form>\n      </div>\n\n      {indicatorLoader && (\n        <Loader /> \n      )}\n      \n        \n        {movies !== null && movies.length > 0 && (\n          <ul>\n            {Array.isArray(movies) &&\n              movies.map(movie => (\n                <li key={movie.id}>\n                  <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                    {movie.title}\n                  </Link>\n                </li>\n              ))}\n          </ul>\n        )\n      }\n    </div>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = 'f0dfa7497e7951551870a1200c4b66ff';\n\nconst requestMovies = async endpoint => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3${endpoint}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\nconst findMovies = async endpoint => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3${endpoint}&api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\nexport { requestMovies };\nexport { findMovies };\n"],"names":["Loader","_jsx","children","Circles","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","paramsFofSearch","size","get","_useState3","_useState4","inputValue","setInputValue","_useState5","_useState6","indicatorLoader","setIndicatorLoader","location","useLocation","useEffect","fetchMovieByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","endpoint","result","_context","prev","next","abrupt","concat","findMovies","sent","t0","console","error","message","stop","apply","arguments","_jsxs","action","onSubmit","e","preventDefault","dataForSearch","currentTarget","elements","search","value","searchValue","className","css","type","onChange","name","length","Array","isArray","map","movie","Link","to","id","state","from","title","API_KEY","requestMovies","_yield$axios$get","data","axios","_x","_ref2","_callee2","_yield$axios$get2","_context2","_x2"],"sourceRoot":""}