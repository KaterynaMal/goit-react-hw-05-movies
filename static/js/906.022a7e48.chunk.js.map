{"version":3,"file":"static/js/906.022a7e48.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__2deBf\",\"input\":\"MoviesPage_input__16dJ5\",\"button\":\"MoviesPage_button__AUtxX\"};","import React, { useEffect, useState } from 'react';\nimport css from './MoviesPage.module.css';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { requestMovies } from 'services/api';\nimport { Circles } from 'react-loader-spinner';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const paramsFofSearch =\n    searchParams.size !== 0 ? searchParams.get('searchValue') : '';\n\n  const [inputValue, setInputValue] = useState(paramsFofSearch || '');\n  const [indicatorLoader, setIndicatorLoader] = useState(true);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovieByQuery = async () => {\n      try {\n        if (!paramsFofSearch) {\n          setIndicatorLoader(false);\n          setMovies(null);\n          return;\n        }\n\n        const endpoint = `/search/movie?query=${paramsFofSearch}&include_adult=false`;\n        const result = await requestMovies(endpoint);\n        setMovies(result);\n        //  .results\n      } catch (error) {\n        console.error('Error:', error.message);\n      }\n      setIndicatorLoader(false);\n    };\n\n    fetchMovieByQuery();\n  }, [paramsFofSearch]);\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setIndicatorLoader(true);\n    const dataForSearch = e.currentTarget.elements.search.value;\n    setSearchParams({ searchValue: dataForSearch });\n  };\n\n  const HandleInput = e => {\n    const inputValue = e.currentTarget.value;\n    setInputValue(inputValue);\n  };\n\n  return (\n    <div>\n      <div>\n        <form action=\"\" onSubmit={HandleSubmit} className={css.form}>\n          <input\n            type=\"text\"\n            value={inputValue}\n            onChange={HandleInput}\n            name=\"search\"\n            className={css.input}\n          />\n          <button type=\"submit\" className={css.button}>\n            Search\n          </button>\n        </form>\n      </div>\n\n      {indicatorLoader && (\n        <Circles\n          height=\"80\"\n          width=\"80\"\n          color=\"#4fa94d\"\n          ariaLabel=\"circles-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"\"\n          visible={true}\n        />\n      )}\n      {movies && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = 'f0dfa7497e7951551870a1200c4b66ff';\n\nconst requestMovies = async endpoint => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3${endpoint}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\nexport { requestMovies };\n"],"names":["_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","paramsFofSearch","size","get","_useState3","_useState4","inputValue","setInputValue","_useState5","_useState6","indicatorLoader","setIndicatorLoader","location","useLocation","useEffect","fetchMovieByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","endpoint","result","_context","prev","next","abrupt","concat","requestMovies","sent","t0","console","error","message","stop","apply","arguments","_jsxs","children","_jsx","action","onSubmit","e","preventDefault","dataForSearch","currentTarget","elements","search","value","searchValue","className","css","type","onChange","name","Circles","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","map","movie","Link","to","id","state","from","title","_yield$axios$get","data","axios","_x"],"sourceRoot":""}