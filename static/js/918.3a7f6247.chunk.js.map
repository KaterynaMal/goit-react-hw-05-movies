{"version":3,"file":"static/js/918.3a7f6247.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MoviesPage.module.css?f2bc","pages/MoviesPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__vECho\",\"input\":\"MoviesPage_input__zOh2m\",\"button\":\"MoviesPage_button__sPqVK\"};","import React, { useEffect, useState, Suspense } from 'react';\nimport css from './MoviesPage.module.css';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { requestMovies } from 'services/api';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const paramsFofSearch =\n     searchParams.size !== 0 ? searchParams.get('searchValue') : '';\n\n  const [inputValue, setInputValue] = useState(paramsFofSearch || '');\n  const [indicatorLoader, setIndicatorLoader] = useState(true);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovieByQuery = async () => {\n      try {\n        if (!paramsFofSearch) {\n          setIndicatorLoader(false);\n          setMovies(null);\n          return;\n        }\n\n        const endpoint = `/search/movie?query=${paramsFofSearch}&include_adult=false`;\n        const result = await requestMovies(endpoint);\n        setMovies(result);\n        //  .results\n      } catch (error) {\n        console.error('Error:', error.message);\n      }\n      setIndicatorLoader(false);\n    };\n\n    fetchMovieByQuery();\n  }, [paramsFofSearch]);\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    setIndicatorLoader(true);\n    const dataForSearch = e.currentTarget.elements.search.value;\n    setSearchParams({ searchValue: dataForSearch });\n  };\n\n  const HandleInput = e => {\n    const inputValue = e.currentTarget.value;\n    setInputValue(inputValue);\n  };\n\n  return (\n    <div>\n      <Suspense fallback={<div>Loading...</div>}>\n        {/* <SearchMowies /> */}\n        <div>\n          <form\n            action=\"\"\n            onSubmit={HandleSubmit}\n            className={css.form}\n          >\n            <input\n              type=\"text\"\n              value={inputValue}\n              onChange={HandleInput}\n              name=\"search\"\n\n              className={css.input}\n            />\n            <button\n              type=\"submit\"\n              className={css.button}\n            >\n              Search\n            </button>\n          </form>\n        </div>\n      </Suspense>\n      {indicatorLoader && <div>Loading...</div>}\n      {movies && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = 'f0dfa7497e7951551870a1200c4b66ff';\n\nconst requestMovies = async (endpoint) => {\n    // const API_KEY = 'f0dfa7497e7951551870a1200c4b66ff';\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3${endpoint}?api_key=${API_KEY}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\nexport { requestMovies };\n\n// const { data } = await axios.get(\n//     `https://api.themoviedb.org/3${endpoint}?api_key=${API_KEY}`\n// );\n//         return data;\n\n// const BASE_URL = 'https://api.themoviedb.org/3';\n\n// const END_POINT = {\n//     trending: '/trending/get-trending',\n//     search: '/search/search-movies ',\n//     details: '/movies/get-movie-details',\n//     credits: '/movies/get-movie-credits',\n//     reviews: '/movies/get-movie-reviews',\n// }\n"],"names":["_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","paramsFofSearch","size","get","_useState3","_useState4","inputValue","setInputValue","_useState5","_useState6","indicatorLoader","setIndicatorLoader","location","useLocation","useEffect","fetchMovieByQuery","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","endpoint","result","_context","prev","next","abrupt","concat","requestMovies","sent","t0","console","error","message","stop","apply","arguments","_jsxs","children","_jsx","Suspense","fallback","action","onSubmit","e","preventDefault","dataForSearch","currentTarget","elements","search","value","searchValue","className","css","type","onChange","name","map","movie","Link","to","id","state","from","title","_yield$axios$get","data","axios","_x"],"sourceRoot":""}